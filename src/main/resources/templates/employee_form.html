<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/XSL/Transform" xmlns:form="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"  media="all">
    <script th:src="@{/layui/layui.js}" charset="utf-8"></script>
    <meta charset="UTF-8">
    <title>员工</title>
</head>
<body>
<ul class="nav nav-tabs">
    <li><a th:href="@{/employee}">员工列表</a></li>
    <li class="active">
        <a th:href="@{/form_employee}" th:if="${employee_id!=null}">员工修改</a>
        <a th:href="@{/form_employee}" th:if="${employee_id==null}">员工添加</a>
    </li>
</ul>
<div class="tab-content">
    <div class="tab-pane fade in active">
        <form id="changeForm" method="post" action="/insert_employee" class="layui-form">
            <input name="id" type="hidden" th:value="${employee_id}">
            <div class="layui-form-item">
                <label class="layui-form-label">员工号</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="employeeNo" type="text" lay-verify="employeeNo">
                    <input th:if="${employee_id!=null}" class="layui-input" name="employeeNo" type="text" th:value="${employee.employeeNo}" lay-verify="employeeNo">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">员工姓名</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="employeeName" type="text" lay-verify="employeeName">
                    <input th:if="${employee_id!=null}" class="layui-input" name="employeeName" type="text" th:value="${employee.employeeName}" lay-verify="employeeName">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">入职日期</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" id="date" class="layui-input" name="workDate" lay-verify="required" autocomplete="off">
                    <input th:if="${employee_id!=null}" id="date1" class="layui-input" name="workDate" th:value="${employee.workDate}" lay-verify="required" autocomplete="off">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">身份证号</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="idCard" type="text" lay-verify="required|identity">
                    <input th:if="${employee_id!=null}" class="layui-input" name="idCard" type="text" th:value="${employee.idCard}" lay-verify="required|identity">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">所属部门</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="officeId" type="text">
                    <input th:if="${employee_id!=null}" class="layui-input" name="officeId" type="text" th:value="${employee.officeId}">
                </div>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">性别</label>
                <div class="layui-input-block">
                    <span th:if="${employee_id==null}">
                        <input type="radio" name="sex" value="男" title="男" checked="">
                        <input type="radio" name="sex" value="女" title="女">
                    </span>
                    <span th:if="${employee_id!=null}">
<!--                        <input th:checked="${employee.sex}==男?true:false" value="男" title="男" type="radio">-->
<!--                        <input th:checked="${employee.sex}==女?true:false" value="女" title="女" type="radio">-->
                        <span th:if="${employee.sex}==男">
                            <input type="radio" name="sex" value="男" checked="" title="男">
                            <input type="radio" name="sex" value="女" title="女">
                        </span>
                        <span th:if="${employee.sex}==女">
                            <input type="radio" name="sex" value="男" title="男">
                            <input type="radio" name="sex" value="女" title="女" checked="">
                        </span>
                    </span>
                </div>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">年龄</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="age" type="text" lay-verify="age">
                    <input th:if="${employee_id!=null}" class="layui-input" name="age" type="text" th:value="${employee.age}" lay-verify="age">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">电话</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="telNum" type="text" lay-verify="required|phone">
                    <input th:if="${employee_id!=null}" class="layui-input" name="telNum" type="text" th:value="${employee.telNum}" lay-verify="required|phone">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">邮箱</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="email" type="text" lay-verify="email">
                    <input th:if="${employee_id!=null}" class="layui-input" name="email" type="text" th:value="${employee.email}" lay-verify="email">
                </div>
                <span style="color: red">*</span>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">地址</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="address" type="text">
                    <input th:if="${employee_id!=null}" class="layui-input" name="address" type="text" th:value="${employee.address}">
                </div>
            </div>
            <hr />
            <div class="layui-form-item">
                <label class="layui-form-label">备注</label>
                <div class="layui-input-inline">
                    <input th:if="${employee_id==null}" class="layui-input" name="remarks" type="text" lay-verify="required">
                    <input th:if="${employee_id!=null}" class="layui-input" name="remarks" type="text" lay-verify="required" th:value="${employee.remarks}">
                </div>
                <span style="color: red">*</span>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">保存</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
    layui.use(['form','laydate'],function () {
        var form=layui.form
            ,laydate=layui.laydate
            ,layer=layui.layer
            ,$=layui.jquery;

        laydate.render({
            elem:'#date'
        });
        laydate.render({
            elem:'#date1'
        });

        form.verify({
            employeeName:[/^[\u4e00-\u9fa5A-Za-z]{2,20}$/,'员工姓名请输入中文或者英文，长度2-20'],
            age:[/^(1[89]|[2-5][0-9]|60)$/,'请输入正确的年龄'],
            employeeNo:[/^\d{10}$/,'员工号请输入10位数字']
        });

        form.on('submit(demo1)',function (data) {
            layer.confirm('您确定要提交吗？',{
                btn:['确认','取消']
            }, function () {
                $("#changeForm").submit();
            }, function () {
                layer.msg("已取消");
                return false;
            });
            return false;
        });
    });
</script>
</body>
</html>